---
layout: post
title: Intro to Cloud Based Solutions using AWS
date: 2016-09-20 12:00:00
categories: administration
comments: true
en: true
description: Starting in the cloud
keywords: "cloud based services, starting in cloud, cloud, aws cloud, amazon web services, amazonwebservices, amazon, amazon cloud, ec2, redshift, amazon machine image, ami, elastic load balancing, elb, intro to cloud, cloud tutorial, aws tutorial"
authors:
    - Edgar Montano
---

## Table of contents

* toc
{:toc}


## Cloud Best Practices
> "Everything fails all the time" - Werner Vogels

###  Design for Failure
If you build your system expecting parts to fail, and you migate a solution to compensate for that failure, then your overall system will not fail. Thinking about failure upfront allows you to think about design strategies to recover ahead of time, improving the integrity of your overall system; which in hand will lead to a better, more stable product over time.

* Avoid single points of failure (for example, using a single database server). AWS offers RDS for fail over servers. RDS takes care of synchronization details, so when our primary database fails, we can switch to our other database, which is happily standing by for such an evenet.

#### Failover with EC2 and Elastic IP
EC2 is the service that provides you with the virtual servers and elastic IPs you'll need. The elastic nature of this service allows you not to worry about the idea of too few servers or too many servers. _Elastic IP's_ are static IP's designed for dynamic cloud computing. Unlike a traditional IP, you can control this elastic IP, and determine when you want to release it, this allows you to easily remap your IP to any instance in your account.

With traditional IP, if your server dies, your static IP is still pointing to that down'd server, even if you have a backup server, that backup is pointing to an entirely new IP. You would have to change your DNS setting to point to the new server. With Elastic IP, you can simply remap the association of the IP to a failed server, to a new server.

### AWS Regions and Availability Zones
EC2 can be launched it different geographical regions. These regions are distributed world wide. The regions are divided to: US East, US West, GovCloud, South America, EU Region, Asia Pacific. Each region consists of multiple locations called Availability zones. They are distinct locations that are engineered to be inexpensive, and retain low-latency connections to other Availability Zones, they are also isolated from another. They can be visualized as distinct data centers connected by a fast fiber connection. Utilizing multiple AZ is an excellent option to ensure high availability and easy recovery in the event of a natural disaster in a specific zone.

### Amazon Machine Image (AMI)
AMI are packaged environment settings, used for basic unit of deployment. You can deploy many instances from the AMI as you need. You can have one AMI or several, for example, you can have various AMI corresponding to different components of your system. (AMI for web server, app server, database server).

Maintain an AMI so that you can easily recover and clone environments across multiple AZs.

#### Amazon Machine Image contents
* template for root volume
* launch permissions
* block device mapping

### Elastic Load balancing
Use elastic load balancing to easily distribute your system across multiple zones .

* Balances traffic acrosses EC2 instances and AZ's
* achieves fault tolerance
* scales request-handling capability automatically.
* supports http, https, and tcp to ec2 instances
* setup health checks
* scales dynamically
* single CNAME for DNS configuration.

#### Fault tolerance with ELB
ELB round robin DNS requests to multiple addresses in different availability zones and as traffic decreases it removes IP  addresses to the DNS entry thereby reducing the number of load balancing components in the system.


### Cloudwatch - Resource and application monitoring

Cloudwatch allows to automatically monitor resources. There is no need to install or configure anything. Cloudwatch primarily monitors utilization and performance as well as traffic load demand. Cloudwatch allows you to gather metrics such as CPU utilization and network traffic. It allows you to set alarms when certain thresholds are exceeded. In addition to this, you can set and configure your own metrics, and determine what happens in response to those metrics.

Utilize Amazon Cloudwatc to monitor when appropriate actions need to occur, such as in the event of hardware failure or performance issues.

### Elastic Block Storage (EBS)
Volume storage is offered in two methods: Elastic Block Storage which are persistent or Ephemeral storage (non persistent). Elastic Block Storage is created separately from EC2 instances. You can then attach the EBS to a EC2 instance. You can do a variety of things with EBS, such as create a file system or run a database.  

### Implement Elasticity
* Elasticity: ability to scale cloud resources
* Schedule-based proactive scaling (scales when resources are needed, for example, peak usage time)
* Event-based scaling (a sudden influx of new users based on new marketing techniques)
* Automate deployment preprocessor
* streamline your build-and-configuration process (available in UI or console)
* Bootstrap your instances (creating a self-sustaining startup process that can run on its own, usually runs within EC2)

### Decouple your components
Minimize dependencies between components such that if a component fails, others continue working. e.g. Several web servers and web apps with a database (neither web server or web app should be aware of each other or rely on each  other, each component should be independent)
* Solution is to employ Loose Coupling techniques, this is where you incorporate a load balancer into the process, so that components are no longer connected directly to each other.

### Security
Familiar yourself with cloud security and best practices. Many of the perceived lack of security in the cloud derives from customer misunderstanding. It is your responsibility to provide security at the Network and Application level.  A solution to application level security is using SSL in order to protect data in motion, you can manage your SSL certificate within AWS. You can also encrypt your data, for example AWS offers elastic block storage. Another security measure that can be taken is to rotate your access keys frequently as well as manage user access control using IAM. IAM allows you to create separate users for each person neededing access and then granting them access to only the services they need access to.
